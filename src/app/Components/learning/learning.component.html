<main class="min-h-[calc(100vh-64px)] lg:min-h-[calc(100vh-10vh)] bg-[var(--body-background-color)] px-4 py-8 lg:py-16 flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-20 overflow-hidden">
    <section class="flex flex-col gap-2 bg-[var(--whit-main-background-color)] rounded-3xl p-4 lg:p-10 shadow-lg min-h-[60vh] lg:min-h-[70vh] max-h-[60vh] lg:max-h-[70vh] w-full lg:w-[25vw] overflow-y-auto">
        <h2 class="text-2xl lg:text-4xl font-medium text-[var(--heading-color)] bg-gray-100 rounded-lg px-3 py-2">{{'learning.USERWORDSETS' | translate}}</h2>
        @if (userAccessedWordsets.length != 0) {
            <div class="grid grid-cols-4 gap-2 lg:gap-4">
                <div class="col-span-1"></div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETNAME' | translate}}</div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETLANGUAGE' | translate}}</div>
                <div class="col-span-1"></div>
                @for (access of userAccessedWordsets; track $index) {
                    <img class="w-6 lg:w-8 h-6 lg:h-8 object-contain" [src]="getWordsetIcon(access.expand.wordsetId)" alt="wordset icon">
                    <div class="text-xs lg:text-base">{{ access.expand.wordsetId.name }}</div>
                    <div class="text-xs lg:text-base">{{ access.expand.wordsetId.language }}</div>
                    <button class="bg-[var(--button-background-color)] text-[var(--button-color)] rounded px-2 py-1 lg:px-4 lg:py-2 text-xs lg:text-base font-medium hover:opacity-90 transition-opacity" 
                            (click)="displayForm($index, 'user')">{{'learning.USE' | translate}}</button>
                }
            </div>
        }
    </section>

    <section class="flex flex-col gap-2 bg-[var(--whit-main-background-color)] rounded-3xl p-4 lg:p-10 shadow-lg min-h-[60vh] lg:min-h-[70vh] max-h-[60vh] lg:max-h-[70vh] w-full lg:w-[25vw] overflow-y-auto">
        <h2 class="text-2xl lg:text-4xl font-medium text-[var(--heading-color)] bg-[var(--background-light)] rounded-lg px-3 py-2">{{'learning.GROUPWORDSETS' | translate}}</h2>
        @if (groupAccessedWordsets.length != 0) {
            <div class="grid grid-cols-4 gap-2 lg:gap-4">
                <div class="col-span-1"></div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETNAME' | translate}}</div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETLANGUAGE' | translate}}</div>
                <div class="col-span-1"></div>
                @for (access of groupAccessedWordsets; track $index) {
                    <img class="w-6 lg:w-8 h-6 lg:h-8 object-contain" [src]="getWordsetIcon(access.expand.wordsetId)" alt="wordset icon">
                    <div class="text-xs lg:text-base">{{ access.expand.wordsetId.name }}</div>
                    <div class="text-xs lg:text-base">{{ access.expand.wordsetId.language }}</div>
                    <button class="bg-[var(--button-background-color)] text-[var(--button-color)] rounded px-2 py-1 lg:px-4 lg:py-2 text-xs lg:text-base font-medium hover:opacity-90 transition-opacity" 
                            (click)="displayForm($index, 'group')">{{'learning.USE' | translate}}</button>
                }
            </div>
        }
    </section>

    <section class="flex flex-col gap-2 bg-[var(--whit-main-background-color)] rounded-3xl p-4 lg:p-10 shadow-lg min-h-[60vh] lg:min-h-[70vh] max-h-[60vh] lg:max-h-[70vh] w-full lg:w-[25vw] overflow-y-auto">
        <h2 class="text-2xl lg:text-4xl font-medium text-[var(--heading-color)] bg-[var(--background-light)] rounded-lg px-3 py-2">{{'learning.YOURWORDSETS' | translate}}</h2>
        @if (userWordsets.length != 0) {
            <div class="grid grid-cols-4 gap-2 lg:gap-4">
                <div class="col-span-1"></div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETNAME' | translate}}</div>
                <div class="font-medium text-xs lg:text-base">{{'learning.WORDSETLANGUAGE' | translate}}</div>
                <div class="col-span-1"></div>
                @for (wordset of userWordsets; track $index) {
                    <img class="w-6 lg:w-8 h-6 lg:h-8 object-contain" [src]="getWordsetIcon(wordset)" alt="wordset icon">
                    <div class="text-xs lg:text-base">{{wordset.name}}</div>
                    <div class="text-xs lg:text-base">{{wordset.language}}</div>
                    <button class="bg-[var(--button-background-color)] text-[var(--button-color)] rounded px-2 py-1 lg:px-4 lg:py-2 text-xs lg:text-base font-medium hover:opacity-90 transition-opacity" 
                            (click)="displayForm($index, 'owned')">{{'learning.USE' | translate}}</button>
                }
            </div>
        }
    </section>
</main>

@if (testingForm) {
    <app-testing [wordset]="usedWordset" (componentClose)="handleAppClose($event)"/>
}